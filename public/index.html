<!DOCTYPE html>
<html lang="en">

<head>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <!-- Google Optimize for A/B test -->
  <script src="https://www.googleoptimize.com/optimize.js?id=OPT-M64CL4V"></script>

  <!-- Google tag (gtag.js) -->
  <script async src="https://www.googletagmanager.com/gtag/js?id=G-VCRGBNS29B"></script>

  <script>
    window.dataLayer = window.dataLayer || [];
    function gtag() { dataLayer.push(arguments); }
    gtag('js', new Date());

    gtag('config', 'G-VCRGBNS29B');
  </script>

  <!-- jQuery -->
  <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>

  <!-- Tracking script -->
  <script src="html2canvas.js"></script>
  <script src="scriptTest.js"></script>

  <!-- All other javaScript   -->
  <script src="config.js" type="module"></script>
  <script src="script.js"></script>

  <!-- Cloud Localization library -->
  <script src="https://cdn.amcapi.com/localization/1.0.1/cloudlocalization.min.js" crossorigin="anonymous"></script>

  <script>
    window.onload = function () {
      startExperiment();
      initTracking(100);
      registerUserData();
    }
  </script>

  <!-- Styling -->
  <link rel="stylesheet" type="text/css" href="styles.css">
  <link rel="stylesheet" type="text/css" href="subscribe.css">

  <title>FreshBox</title>
</head>

<body class="explanation">

  <div class="welcome">
    <h1 class="translate">Welcome to our experiment!</h1>
  </div>
  <div class="start-img-container">
    <div class="start-image">
      <img src="photos/usability.jpg" alt="Your Image">
    </div>
    <div class="text-block translate">
      <p>Dear Participant,</p>
      <p>We are conducting an experiment in the field of affective computing to explore the connection between facial expressions and user experience during website navigation. During the experiment, we will capture your facial expressions using a camera while you navigate through a website. Please note that the captured data will be used solely for the purpose of this experiment and will not be stored.</p>
      <p>
      <br>
      <strong>Please note that the experiment is best done on a desktop or laptop computer</strong>
      </p>
      <br>
      <p>
        Note: You can change the language of the experiment here.
        <!-- Language selection dropdown -->
        <select class="cloudlocalization-selection"></select>
      </p>
      <button onclick="openPopup()" class="start-button">Begin</button>
    </div>
  </div>
  <div id="popup" class="popup">
    <div class="video-consent translate">
      <h2>Allow camera</h2>
      <p>Once the experiment starts, you will be asked to allow the website to use your camera.
        We are conducting research that will make use of your camera while conducting the test.
      </p>
      <img id="consent-img" width="100%" src="photos/camera-consent.png">
      <button id="start-camera" onclick="sendToPage('start.html')">OK</button>
      <button class="close-button" onclick="closePopup()">X</button>
    </div>
  </div>
  <div id="loading">
    <img id="loading-image" src="photos/Iphone-spinner-2.gif" alt="Loading..." />
  </div>
  <script>
    $(window).on('load', function () {
      $('#loading').hide();
    })

    // Initialize Cloud Localization
    cloudLocalization({
      defaultLanguage: "en",
      urlLanguageLocation: UrlLanguageLocation.none,
      translatorProvider: TranslatorProvider.none,
      translatorProviderKey: "",
      logTranslationsFromProvider: false,
      languages: [
        {
          code: "en",
          displayName: "English"
        },
        {
          code: "es",
          displayName: "Spanish"
        },
        {
          code: "fr",
          displayName: "Français"
        },
        {
          code: "fr-ca",
          displayName: "Français (Canada)"
        },
        {
          code: "ar",
          displayName: "العربية",
          direction: LanguageDirection.rtl
        }
      ]
    });
  </script>
</body>

</html>